{% extends "layout.html" %}

{% block notice %}
	<div id="notice"></div>
{% endblock %}

{% block content %}
		<div class="container">
			<div class="col-7">
				<div class="container padded">
					<h4>Services health status</h4>
					<div id="services-container"></div>
				</div>
			</div>
			<div class="col-5">
				{% verbatim %}
				<div class="container padded">
					<h4>Sys stats</h4>
					<div>Total CPU: <b>{{ gs.CPU|length }}</b></div>
					<div>Total Vmem: <b>{{ gs.MemTotal/1026/1024 }}MB</b></div>
					<div>Available mem: <b id="av-mem-c">0MB</b></div>
					<div>Used mem: <b id="used-mem-c">0MB</b></div>
					<div>SwapCached: <b id="sc-mem-c">0MB</b></div>
					<div id="tcp-sockets-open"></div>
					<div>
						<h5>CPU info</h5>
						<div>
							<ul>
							{% for c in gs.CPU %}

								<li>
									CPU{{ c.CPU }} {{ c.Cores }} core(s) @ {{ c.Mhz }}Mhz
								</li>

							{% endfor %}
							</ul>
						</div>
					</div>
				</div>
				{% endverbatim %}
			</div>
		</div>

		<div class="clearfix"></div>

		<div class="container">
			<div class="col-4">
				<div id="container-cpu-s"></div>
			</div>
			<div class="col-4">
				<div id="container-mem-s"></div>
			</div>
			<div class="col-4">
				<div id="container"></div>
			</div>
		</div>
<script type="text/javascript">
	{% verbatim %}

	$(function() {
	    console.log("start ws");
	    initWS('{{ host }}', '{{ wsport }}');
	});

	{% endverbatim %}
</script>
{% endblock %}
